<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.cbmem.css">

    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    <title>Chromebook Memory Diagnostics</title>
</head>

<body>
    <nav></nav>
    <script>document.querySelector("nav").classList.toggle("close", window.parent.document.querySelector("nav").classList.contains("close"));</script>
    <section class="dashboard">

        <div class="dash-content">
            <div class="overview">
                <div class="title">
                    <img src="../Icons/cbmem/bugcbmemdash.svg">
                    <span class="text">Memory Diagnostics</span>
                </div>
                <span class="hiddentext" id="cpuLoad">0%</span>
                <span class="hiddentext" id="ramPercentage">0%</span>
                <span class="hiddentext" id="cpuTemps">0%</span>
                <span class="hiddentext" id="fanSpeed">0%</span>

            </div>
            <button id="cbMem" href="#" class="cbMem">Run Memory Diagnostics</button>
            <button id="copyButton" class="copyButton">Copy</button>
            <pre class="pre">
            <span class="cbmem">
                <code class ="code" id="cbMemInfo"></code>
            </span>
        </pre>

            <script>
                const modeFour = 4;
                const buttoncbMem = document.getElementById('cbMem');
                buttoncbMem.addEventListener('click', () => window.parent.electronAPI.ectool(modeFour));

                function copyTxt(htmlElement) {
                    if (!htmlElement) {
                        return;
                    }

                    let elementText = htmlElement.innerText;

                    let inputElement = document.createElement('input');
                    inputElement.setAttribute('value', elementText);
                    document.body.appendChild(inputElement);
                    inputElement.select();
                    document.execCommand('copy');
                    inputElement.parentElement.removeChild(inputElement);

                }
                document.querySelector('#copyButton').onclick =
                    function () {
                        copyTxt(document.querySelector('#cbMemInfo'))
                    }

            </script>
        </div>
    </section>




</body>

</html>